$(function(){!function(){$("#goodsnum").text(0);var t=a($.cookie("carts")?$.cookie("carts"):""),e=0;for(var n in t)e+=parseInt(t[n].num);$("#goodsnum").text(e)}();var t=a($.cookie("carts")?$.cookie("carts"):"");for(var e in t){var n=t[e],i='\n                        <tr id="goodDetail">\n                        <td>\n                            <input type="checkbox" class="checkbox">\n                        </td>\n                        <td>\n                            <img src="'.concat(n.src,'"><p id="goodname">').concat(n.name,'</p>\n                        </td>\n                        <td>时装</td>\n                        <td id="singlePrice">').concat(n.price,'Q币</td>\n                        <td>1个</td>\n                        <td id="num">\n                            <input type="button" value="-" id="minus"><input type="text" value="').concat(n.num,'" id="number"><input type="button" value="+" id="plus">\n                        </td>\n                        <td>无优惠</td>\n                        <td id=\'totalPrice\'>').concat(n.price*n.num,'Q币</td>\n                        <td><a href="javascript:;" id="remove">删除</a></td>\n                    </tr>\n\t\t\t\t');$("#empty").replaceWith(i)}var c=$("#totalPrice"),o=parseFloat($("#singlePrice").text());$("#minus").click(function(){var t=$("#number").val();--t<1&&(t=1),$("#number").val(t),c.text((t*o).toFixed(2)+"Q币"),$("#jsInfo_price").text(c.text()),$("#jsInfo_num").text(r.val()),$(s).prop("checked")?$("#finishPrice").text(c.text()):$("#finishPrice").text("0.00Q币")}),$("#plus").click(function(){var t=$("#number").val();99<++t&&(t=999,alert("数量最大为999！")),$("#number").val(t),c.text((t*o).toFixed(2)+"Q币"),$("#jsInfo_price").text(c.text()),$("#jsInfo_num").text(r.val()),$(s).prop("checked")?$("#finishPrice").text(c.text()):$("#finishPrice").text("0.00Q币")});var r=$("#number");r.blur(function(){var t=$(this).val();/\D/.test(t)?t=1:999<t&&(t=999,alert("数量最大为999！")),$(this).val(t),c.text((t*o).toFixed(2)+"Q币"),$("#jsInfo_price").text(c.text()),$("#jsInfo_num").text(r.val()),$(s).prop("checked")?$("#finishPrice").text(c.text()):$("#finishPrice").text("0.00Q币")});var s=$(".checkbox");function a(t){return t?JSON.parse(t):{}}$("#qxbox").click(function(){if(this.checked)for(var t=0;t<s.length;t++)s[t].checked=!0;else for(t=0;t<s.length;t++)s[t].checked=!1;$(s).prop("checked")?($("#jsInfo").show(),$("#finishPrice").text(c.text()),$("#jsInfo_price").text(c.text()),$("#jsInfo_num").text(r.val()),$("#submit").css("background","#f74a4a"),$("#submit").css("cursor","pointer")):($("#jsInfo").hide(),$("#finishPrice").text("0.00Q币"),$("#submit").css("background","#666666"),$("#submit").css("cursor","default"))}),s.click(function(){$(this).prop("checked")?($("#jsInfo").show(),$("#finishPrice").text(c.text()),$("#jsInfo_price").text(c.text()),$("#jsInfo_num").text(r.val()),$("#submit").css("background","#f74a4a"),$("#submit").css("cursor","pointer")):($("#jsInfo").hide(),$("#finishPrice").text("0.00Q币"),$("#submit").css("background","#666666"),$("#submit").css("cursor","default"))}),$(s).prop("checked")&&$("#jsInfo").show(),$("#remove").click(function(){var t=$("#goodname").text(),e=a($.cookie("carts")?$.cookie("carts"):"");delete e[t],$.cookie("carts",JSON.stringify(e),{expires:7,path:"/"}),$("#goodDetail").remove(),$("#jsInfo").remove(),$("#finishPrice").text("0.00 Q币"),$("#jsInfo_price").text("0.00 Q币"),$("#jsInfo_num").text(0),$.contains($("#info_detail"),$("#goodDetail"))||$('<tr id="empty">\n<td colspan="9">您的购物车还没有道具，赶快去挑选几个吧 <a href="javascript:;"> 我要买</a></td>\n</tr>').appendTo($("#info_detail"))})});